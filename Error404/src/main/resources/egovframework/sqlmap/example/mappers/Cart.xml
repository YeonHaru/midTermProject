<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper
	namespace="egovframework.example.cart.service.impl.CartMapper">

	<!-- 장바구니 목록 조회 -->
	<select id="selectCartList" parameterType="Criteria"
		resultType="CartVO">
		SELECT
			C.CNO,
			C.USERID,
			C.BNO,
			C.QUANTITY,
			B.TITLE,
			B.AUTHOR,
			B.PUBLISHER,
			B.BIMG,
			B.PDATE,
			B.FPRICE,
			B.DPRICE,
			B.STOCK,
			B.DES,
			B.CATEGORY,
			B.NAT,
			B.ORDER_COUNT
		FROM
			CART C
		JOIN
			BOOKS B ON C.BNO = B.BNO
		WHERE
			C.USERID = #{userId}
		ORDER BY
			C.CNO DESC
	</select>
</mapper>	

