<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="egovframework.example.book.service.impl.BookImgMapper">
	<select id="selectBookImgList" parameterType="Criteria"
		resultType="BookImgDTO">
		SELECT
		B.BNO, B.TITLE, B.AUTHOR, B.PUBLISHER, B.FPRICE,
		B.DPRICE, B.DES,
		I.UUID, I.FILE_NAME, I.FILE_DATA, I.DOWNLOAD_URL
		FROM
		BOOKS B,
		BNO_IMG I
		WHERE
		B.BNO = I.BNO
		ORDER BY
		B.BNO
		OFFSET #{firstIndex}
		ROWS
		FETCH NEXT #{pageUnit} ROWS ONLY

	</select>

	<select id="selectBookImgListTotCnt" resultType="int">
	<!-- 특정 카테고리 일단 막음 -->
<!-- 		parameterType="String"> -->
		SELECT COUNT(*)
		FROM BOOKS b
		JOIN BNO_IMG i ON b.BNO = i.BNO
<!-- 		WHERE b.CATEGORY = #{category} -->
	</select>


</mapper>